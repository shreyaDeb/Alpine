{"ast":null,"code":"var _jsxFileName = \"/Users/shreyaiphonexr/Desktop/Final331/BSF-starter/client/src/components/FileInput.jsx\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileInput = () => {\n  _s();\n\n  const fileInputRef = useRef(null);\n  const [file, setFile] = useState(null);\n  const [fileUploaded, setFileUploaded] = useState(false);\n  const [canUpload, setCanUpload] = useState(false);\n  const [uploadFail, setUploadFail] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!file) return;\n    setUploadFail(false);\n    setCanUpload(false);\n    const formData = new FormData();\n    formData.append(\"ticket_sheet\", file);\n    const url = `${process.env.REACT_APP_HOST}/api/ticket_sheet`;\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(url, formData, config).then(res => {\n      fileInputRef.current.value = null;\n      setFile(null);\n      setFileUploaded(true);\n    }).catch(err => {\n      setCanUpload(true);\n      setUploadFail(true);\n      console.log(err);\n    });\n  };\n\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setCanUpload(!!e.target.files[0]);\n    setFileUploaded(false);\n    setUploadFail(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    encType: \"multipart/form-data\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Upload ticket spreadsheet:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      accept: \".xlsx,.csv\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Upload File(s)\",\n      disabled: !canUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), fileUploaded && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Uploaded!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 31\n    }, this), uploadFail && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Uh oh! Something on the server side didn't work.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FileInput, \"LKC3L637/u1jbcl4j50DsXOZ90A=\");\n\n_c = FileInput;\nexport default FileInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileInput\");","map":{"version":3,"names":["useRef","useState","axios","FileInput","fileInputRef","file","setFile","fileUploaded","setFileUploaded","canUpload","setCanUpload","uploadFail","setUploadFail","handleSubmit","event","preventDefault","formData","FormData","append","url","process","env","REACT_APP_HOST","config","headers","post","then","res","current","value","catch","err","console","log","handleFileChange","e","target","files"],"sources":["/Users/shreyaiphonexr/Desktop/Final331/BSF-starter/client/src/components/FileInput.jsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport axios from \"axios\";\n\nconst FileInput = () => {\n    const fileInputRef = useRef(null);\n    const [file, setFile] = useState(null);\n    const [fileUploaded, setFileUploaded] = useState(false);\n    const [canUpload, setCanUpload] = useState(false);\n    const [uploadFail, setUploadFail] = useState(false);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\tif (!file) return;\n        setUploadFail(false);\n        setCanUpload(false);\n        const formData = new FormData();\n        formData.append(\"ticket_sheet\", file);\n        const url = `${process.env.REACT_APP_HOST}/api/ticket_sheet`;\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data',\n            }\n        };\n        axios.post(url, formData, config).then((res) => {\n            fileInputRef.current.value = null;\n            setFile(null);\n            setFileUploaded(true);\n        }).catch((err) => {\n            setCanUpload(true);\n            setUploadFail(true);\n            console.log(err);\n        })\n    };\n\n    const handleFileChange = (e) => {\n\tsetFile(e.target.files[0]);\n        setCanUpload(!!e.target.files[0]);\n        setFileUploaded(false);\n        setUploadFail(false);\n    }\n\n    return (\n        <form encType=\"multipart/form-data\" onSubmit={handleSubmit}>\n            <label>Upload ticket spreadsheet:</label>\n            <input\n                type=\"file\"\n                ref={fileInputRef}\n                accept=\".xlsx,.csv\"\n                onChange={handleFileChange}\n            />\n            <input type=\"submit\" value=\"Upload File(s)\" disabled={!canUpload}/>\n            {fileUploaded && (<p>Uploaded!</p>)}\n            {uploadFail && (<p>Uh oh! Something on the server side didn't work.</p>)}\n        </form>\n    );\n};\n\nexport default FileInput;"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACpB,MAAMC,YAAY,GAAGJ,MAAM,CAAC,IAAD,CAA3B;EACA,MAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM,CAACM,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,KAAD,CAA5C;;EAEA,MAAMY,YAAY,GAAIC,KAAD,IAAW;IAC5BA,KAAK,CAACC,cAAN;IACP,IAAI,CAACV,IAAL,EAAW;IACJO,aAAa,CAAC,KAAD,CAAb;IACAF,YAAY,CAAC,KAAD,CAAZ;IACA,MAAMM,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;IACAD,QAAQ,CAACE,MAAT,CAAgB,cAAhB,EAAgCb,IAAhC;IACA,MAAMc,GAAG,GAAI,GAAEC,OAAO,CAACC,GAAR,CAAYC,cAAe,mBAA1C;IACA,MAAMC,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,gBAAgB;MADX;IADE,CAAf;IAKAtB,KAAK,CAACuB,IAAN,CAAWN,GAAX,EAAgBH,QAAhB,EAA0BO,MAA1B,EAAkCG,IAAlC,CAAwCC,GAAD,IAAS;MAC5CvB,YAAY,CAACwB,OAAb,CAAqBC,KAArB,GAA6B,IAA7B;MACAvB,OAAO,CAAC,IAAD,CAAP;MACAE,eAAe,CAAC,IAAD,CAAf;IACH,CAJD,EAIGsB,KAJH,CAIUC,GAAD,IAAS;MACdrB,YAAY,CAAC,IAAD,CAAZ;MACAE,aAAa,CAAC,IAAD,CAAb;MACAoB,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACH,CARD;EASH,CAtBD;;EAwBA,MAAMG,gBAAgB,GAAIC,CAAD,IAAO;IACnC7B,OAAO,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;IACO3B,YAAY,CAAC,CAAC,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAH,CAAZ;IACA7B,eAAe,CAAC,KAAD,CAAf;IACAI,aAAa,CAAC,KAAD,CAAb;EACH,CALD;;EAOA,oBACI;IAAM,OAAO,EAAC,qBAAd;IAAoC,QAAQ,EAAEC,YAA9C;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MACI,IAAI,EAAC,MADT;MAEI,GAAG,EAAET,YAFT;MAGI,MAAM,EAAC,YAHX;MAII,QAAQ,EAAE8B;IAJd;MAAA;MAAA;MAAA;IAAA,QAFJ,eAQI;MAAO,IAAI,EAAC,QAAZ;MAAqB,KAAK,EAAC,gBAA3B;MAA4C,QAAQ,EAAE,CAACzB;IAAvD;MAAA;MAAA;MAAA;IAAA,QARJ,EASKF,YAAY,iBAAK;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QATtB,EAUKI,UAAU,iBAAK;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVpB;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH,CApDD;;GAAMR,S;;KAAAA,S;AAsDN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}